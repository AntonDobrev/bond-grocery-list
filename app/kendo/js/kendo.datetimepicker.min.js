/*
* Kendo UI Beta v2014.3.1029 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

!function(t,define){define(["./kendo.datepicker.min","./kendo.timepicker.min"],t)}(function(){return function(t,e){function n(t){var e=new Date(2100,0,1);return e.setMinutes(-t),e}function i(t){t.preventDefault()}function o(e){var n,i=r.getCulture(e.culture).calendars.standard.patterns;e.format=c(e.format||i.g),e.timeFormat=n=c(e.timeFormat||i.t),r.DateView.normalize(e),-1===t.inArray(n,e.parseFormats)&&e.parseFormats.splice(1,0,n)}var r=window.kendo,a=r.TimeView,s=r.parseDate,l=r._activeElement,c=r._extractFormat,d=r.calendar,h=d.isInRange,u=d.restrictValue,f=d.isEqualDatePart,p=a.getMilliseconds,g=r.ui,m=g.Widget,v="open",y="close",w="change",_=".kendoDateTimePicker",x="click"+_,b="disabled",k="readonly",C="k-state-default",S="k-state-focused",T="k-state-hover",D="k-state-disabled",A="mouseenter"+_+" mouseleave"+_,P="mousedown"+_,M="month",E="<span/>",I="aria-activedescendant",L="aria-expanded",B="aria-hidden",z="aria-owns",F="aria-disabled",R="aria-readonly",O=Date,N=new O(1900,0,1),V=new O(2099,11,31),H={view:"date"},U={view:"time"},W=t.extend,j=m.extend({init:function(t,e){var n,i=this;m.fn.init.call(i,t,e),t=i.element,e=i.options,e.min=s(t.attr("min"))||s(e.min),e.max=s(t.attr("max"))||s(e.max),o(e),i._wrapper(),i._views(),i._icons(),i._reset(),i._template();try{t[0].setAttribute("type","text")}catch(a){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),i._midnight=p(e.min)+p(e.max)===0,n=t.is("[disabled]"),n?i.enable(!1):i.readonly(t.is("[readonly]")),i._old=i._update(e.value||i.element.val()),i._oldText=t.val(),r.notify(i)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new O(N),max:new O(V),interval:30,height:200,footer:"",start:M,depth:M,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[v,y,w],setOptions:function(t){var e,n,i,a=this,l=a._value;m.fn.setOptions.call(a,t),t=a.options,t.min=e=s(t.min),t.max=n=s(t.max),o(t),i=t.value||a._value||a.dateView._current,e&&!f(e,i)&&(e=new O(N)),n&&!f(n,i)&&(n=new O(V)),a.dateView.setOptions(t),a.timeView.setOptions(W({},t,{format:t.timeFormat,min:e,max:n})),l&&(a.element.val(r.toString(l,t.format,t.culture)),a._updateARIA(l))},_editable:function(e){var n=this,o=n.element.off(_),a=n._dateIcon.off(_),s=n._timeIcon.off(_),c=n._inputWrapper.off(_),d=e.readonly,h=e.disable;d||h?(c.addClass(h?D:C).removeClass(h?C:D),o.attr(b,h).attr(k,d).attr(F,h).attr(R,d)):(c.addClass(C).removeClass(D).on(A,n._toggleHover),o.removeAttr(b).removeAttr(k).attr(F,!1).attr(R,!1).on("keydown"+_,t.proxy(n._keydown,n)).on("focus"+_,function(){n._inputWrapper.addClass(S)}).on("focusout"+_,function(){n._inputWrapper.removeClass(S),o.val()!==n._oldText&&n._change(o.val()),n.close("date"),n.close("time")}),a.on(P,i).on(x,function(){n.toggle("date"),r.support.touch||o[0]===l()||o.focus()}),s.on(P,i).on(x,function(){n.toggle("time"),r.support.touch||o[0]===l()||o.focus()}))},readonly:function(t){this._editable({readonly:t===e?!0:t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e?!0:t)})},destroy:function(){var t=this;m.fn.destroy.call(t),t.dateView.destroy(),t.timeView.destroy(),t.element.off(_),t._dateIcon.off(_),t._timeIcon.off(_),t._inputWrapper.off(_),t._form&&t._form.off("reset",t._resetHandler)},close:function(t){"time"!==t&&(t="date"),this[t+"View"].close()},open:function(t){"time"!==t&&(t="date"),this[t+"View"].open()},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},toggle:function(t){var e="timeView";"time"!==t?t="date":e="dateView",this[t+"View"].toggle(),this[e].close()},value:function(t){var n=this;return t===e?n._value:(n._old=n._update(t),null===n._old&&n.element.val(""),n._oldText=n.element.val(),e)},_change:function(t){var e=this;t=e._update(t),+e._old!=+t&&(e._old=t,e._oldText=e.element.val(),e.trigger(w),e.element.trigger(w))},_option:function(t,i){var o,r,a=this,l=a.options,c=a.timeView,d=c.options,h=a._value||a._old;if(i===e)return l[t];if(i=s(i,l.parseFormats,l.culture)){if(l.min.getTime()===l.max.getTime()&&(d.dates=[]),l[t]=new O(i.getTime()),a.dateView[t](i),a._midnight=p(l.min)+p(l.max)===0,h&&(o=f(l.min,h),r=f(l.max,h)),o||r){if(d[t]=i,o&&!r&&(d.max=n(l.interval)),r){if(a._midnight)return c.dataBind([V]),e;o||(d.min=N)}}else d.max=V,d.min=N;c.bind()}},_toggleHover:function(e){t(e.currentTarget).toggleClass(T,"mouseenter"===e.type)},_update:function(e){var i,o,a,l,c,d=this,p=d.options,g=p.min,m=p.max,v=p.dates,y=d.timeView,w=d._value,_=s(e,p.parseFormats,p.culture),x=null===_&&null===w||_ instanceof Date&&w instanceof Date;return+_===+w&&x?(c=r.toString(_,p.format,p.culture),c!==e&&d.element.val(null===_?e:c),_):(null!==_&&f(_,g)?_=u(_,g,m):h(_,g,m)||(_=null),d._value=_,y.value(_),d.dateView.value(_),_&&(a=d._old,o=y.options,v[0]&&(v=t.grep(v,function(t){return f(_,t)}),v[0]&&(y.dataBind(v),l=!0)),l||(f(_,g)&&(o.min=g,o.max=n(p.interval),i=!0),f(_,m)&&(d._midnight?(y.dataBind([V]),l=!0):(o.max=m,i||(o.min=N),i=!0))),!l&&(!a&&i||a&&!f(a,_))&&(i||(o.max=V,o.min=N),y.bind())),d.element.val(_?r.toString(_,p.format,p.culture):e),d._updateARIA(_),_)},_keydown:function(t){var e=this,n=e.dateView,i=e.timeView,o=e.element.val(),a=n.popup.visible();t.altKey&&t.keyCode===r.keys.DOWN?e.toggle(a?"time":"date"):a?(n.move(t),e._updateARIA(n._current)):i.popup.visible()?i.move(t):t.keyCode===r.keys.ENTER&&o!==e._oldText&&e._change(o)},_views:function(){var t,e,n,i,o,l,c=this,d=c.element,u=c.options,f=d.attr("id");c.dateView=t=new r.DateView(W({},u,{id:f,anchor:c.wrapper,change:function(){var e,n=t.calendar.value(),i=+n,o=+u.min,r=+u.max;(i===o||i===r)&&(e=new O(+c._value),e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),h(e,o,r)&&(n=e)),c._change(n),c.close("date")},close:function(t){c.trigger(y,H)?t.preventDefault():(d.attr(L,!1),n.attr(B,!0),e.popup.visible()||d.removeAttr(z))},open:function(e){c.trigger(v,H)?e.preventDefault():(c.element.val()!==c._oldText&&(l=s(d.val(),u.parseFormats,u.culture),c.dateView[l?"current":"value"](l)),n.attr(B,!1),d.attr(L,!0).attr(z,t._dateViewID),c._updateARIA(l))}})),n=t.div,o=u.min.getTime(),c.timeView=e=new a({id:f,value:u.value,anchor:c.wrapper,animation:u.animation,format:u.timeFormat,culture:u.culture,height:u.height,interval:u.interval,min:new O(N),max:new O(V),dates:o===u.max.getTime()?[new Date(o)]:[],parseFormats:u.parseFormats,change:function(n,i){n=e._parse(n),u.min>n?(n=new O(+u.min),e.options.min=n):n>u.max&&(n=new O(+u.max),e.options.max=n),i?(c._timeSelected=!0,c._change(n)):(d.val(r.toString(n,u.format,u.culture)),t.value(n),c._updateARIA(n))},close:function(e){c.trigger(y,U)?e.preventDefault():(i.attr(B,!0),d.attr(L,!1),t.popup.visible()||d.removeAttr(z))},open:function(t){e._adjustListWidth(),c.trigger(v,U)?t.preventDefault():(i.attr(B,!1),d.attr(L,!0).attr(z,e._timeViewID),e.options.active(e.current()))},active:function(t){d.removeAttr(I),t&&d.attr(I,e._optionID)}}),i=e.ul},_icons:function(){var e,n=this,i=n.element;e=i.next("span.k-select"),e[0]||(e=t('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),e=e.children(),n._dateIcon=e.eq(0).attr({role:"button","aria-controls":n.dateView._dateViewID}),n._timeIcon=e.eq(1).attr({role:"button","aria-controls":n.timeView._timeViewID})},_wrapper:function(){var e,n=this,i=n.element;e=i.parents(".k-datetimepicker"),e[0]||(e=i.wrap(E).parent().addClass("k-picker-wrap k-state-default"),e=e.wrap(E).parent()),e[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=e.addClass("k-widget k-datetimepicker k-header").addClass(i[0].className),n._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,n=e.element,i=n.attr("form"),o=i?t("#"+i):n.closest("form");o[0]&&(e._resetHandler=function(){e.value(n[0].defaultValue)},e._form=o.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=r.template(this.options.ARIATemplate)},_updateARIA:function(t){var e,n=this,i=n.dateView.calendar;n.element.removeAttr(I),i&&(e=i._cell,e.attr("aria-label",n._ariaTemplate({current:t||i.current()})),n.element.attr(I,e.attr("id")))}});g.plugin(j)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e){e()});