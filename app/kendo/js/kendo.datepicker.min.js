/*
* Kendo UI Beta v2014.3.1029 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

!function(t,define){define(["./kendo.calendar.min","./kendo.popup.min"],t)}(function(){return function(t,e){function n(e){var n=e.parseFormats,i=e.format;F.normalize(e),n=t.isArray(n)?n:[n],-1===t.inArray(i,n)&&n.splice(0,0,e.format),e.parseFormats=n}function i(t){t.preventDefault()}var o,r=window.kendo,a=r.ui,s=a.Widget,l=r.parseDate,c=r.keys,d=r.template,h=r._activeElement,u="<div />",f="<span />",p=".kendoDatePicker",g="click"+p,m="open",v="close",y="change",w="disabled",_="readonly",x="k-state-default",b="k-state-focused",k="k-state-selected",C="k-state-disabled",S="k-state-hover",T="mouseenter"+p+" mouseleave"+p,D="mousedown"+p,A="id",P="min",M="max",E="month",I="aria-disabled",L="aria-expanded",B="aria-hidden",z="aria-readonly",F=r.calendar,R=F.isInRange,O=F.restrictValue,N=F.isEqualDatePart,V=t.extend,H=t.proxy,U=Date,W=function(e){var n,i=this,o=document.body,s=t(u).attr(B,"true").addClass("k-calendar-container").appendTo(o);i.options=e=e||{},n=e.id,n&&(n+="_dateview",s.attr(A,n),i._dateViewID=n),i.popup=new a.Popup(s,V(e.popup,e,{name:"Popup",isRtl:r.support.isRtl(e.anchor)})),i.div=s,i.value(e.value)};W.prototype={_calendar:function(){var e,n=this,o=n.calendar,s=n.options;o||(e=t(u).attr(A,r.guid()).appendTo(n.popup.element).on(D,i).on(g,"td:has(.k-link)",H(n._click,n)),n.calendar=o=new a.Calendar(e),n._setOptions(s),r.calendar.makeUnselectable(o.element),o.navigate(n._value||n._current,s.start),n.value(n._value))},_setOptions:function(t){this.calendar.setOptions({focusOnNav:!1,change:t.change,culture:t.culture,dates:t.dates,depth:t.depth,footer:t.footer,format:t.format,max:t.max,min:t.min,month:t.month,start:t.start})},setOptions:function(t){var e=this.options;this.options=V(e,t,{change:e.change,close:e.close,open:e.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var t=this;t._calendar(),t.popup.open()},close:function(){this.popup.close()},min:function(t){this._option(P,t)},max:function(t){this._option(M,t)},toggle:function(){var t=this;t[t.popup.visible()?v:m]()},move:function(t){var n=this,i=t.keyCode,o=n.calendar,r=t.ctrlKey&&i==c.DOWN||i==c.ENTER;if(i==c.ESC)return n.close(),e;if(t.altKey)return i==c.DOWN?(n.open(),t.preventDefault()):i==c.UP&&(n.close(),t.preventDefault()),e;if(n.popup.visible())return r&&o._cell.hasClass(k)?(n.close(),t.preventDefault(),e):(n._current=o._move(t),e)},current:function(t){this._current=t,this.calendar._focus(t)},value:function(t){var e=this,n=e.calendar,i=e.options;e._value=t,e._current=new U(+O(t,i.min,i.max)),n&&n.value(t)},_click:function(t){-1!==t.currentTarget.className.indexOf(k)&&this.close()},_option:function(t,e){var n=this,i=n.calendar;n.options[t]=e,i&&i[t](e)}},W.normalize=n,r.DateView=W,o=s.extend({init:function(t,e){var i,o,a=this;s.fn.init.call(a,t,e),t=a.element,e=a.options,e.min=l(t.attr("min"))||l(e.min),e.max=l(t.attr("max"))||l(e.max),n(e),a._wrapper(),a.dateView=new W(V({},e,{id:t.attr(A),anchor:a.wrapper,change:function(){a._change(this.value()),a.close()},close:function(e){a.trigger(v)?e.preventDefault():(t.attr(L,!1),o.attr(B,!0))},open:function(e){var n,i=a.options;a.trigger(m)?e.preventDefault():(a.element.val()!==a._oldText&&(n=l(t.val(),i.parseFormats,i.culture),a.dateView[n?"current":"value"](n)),t.attr(L,!0),o.attr(B,!1),a._updateARIA(n))}})),o=a.dateView.div,a._icon();try{t[0].setAttribute("type","text")}catch(c){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":a.dateView._dateViewID}),a._reset(),a._template(),i=t.is("[disabled]"),i?a.enable(!1):a.readonly(t.is("[readonly]")),a._old=a._update(e.value||a.element.val()),a._oldText=t.val(),r.notify(a)},events:[m,v,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(t){var e=this,i=e._value;s.fn.setOptions.call(e,t),t=e.options,t.min=l(t.min),t.max=l(t.max),n(t),e.dateView.setOptions(t),i&&(e.element.val(r.toString(i,t.format,t.culture)),e._updateARIA(i))},_editable:function(t){var e=this,n=e._dateIcon.off(p),o=e.element.off(p),r=e._inputWrapper.off(p),a=t.readonly,s=t.disable;a||s?(r.addClass(s?C:x).removeClass(s?x:C),o.attr(w,s).attr(_,a).attr(I,s).attr(z,a)):(r.addClass(x).removeClass(C).on(T,e._toggleHover),o.removeAttr(w).removeAttr(_).attr(I,!1).attr(z,!1).on("keydown"+p,H(e._keydown,e)).on("focusout"+p,H(e._blur,e)).on("focus"+p,function(){e._inputWrapper.addClass(b)}),n.on(g,H(e._click,e)).on(D,i))},readonly:function(t){this._editable({readonly:t===e?!0:t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e?!0:t)})},destroy:function(){var t=this;s.fn.destroy.call(t),t.dateView.destroy(),t.element.off(p),t._dateIcon.off(p),t._inputWrapper.off(p),t._form&&t._form.off("reset",t._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(t){return this._option(P,t)},max:function(t){return this._option(M,t)},value:function(t){var n=this;return t===e?n._value:(n._old=n._update(t),null===n._old&&n.element.val(""),n._oldText=n.element.val(),e)},_toggleHover:function(e){t(e.currentTarget).toggleClass(S,"mouseenter"===e.type)},_blur:function(){var t=this,e=t.element.val();t.close(),e!==t._oldText&&t._change(e),t._inputWrapper.removeClass(b)},_click:function(){var t=this,e=t.element;t.dateView.toggle(),r.support.touch||e[0]===h()||e.focus()},_change:function(t){var e=this;t=e._update(t),+e._old!=+t&&(e._old=t,e._oldText=e.element.val(),e.element.trigger(y),e.trigger(y))},_keydown:function(t){var e=this,n=e.dateView,i=e.element.val();n.popup.visible()||t.keyCode!=c.ENTER||i===e._oldText?(n.move(t),e._updateARIA(n._current)):e._change(i)},_icon:function(){var e,n=this,i=n.element;e=i.next("span.k-select"),e[0]||(e=t('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(i)),n._dateIcon=e.attr({role:"button","aria-controls":n.dateView._dateViewID})},_option:function(t,n){var i=this,o=i.options;return n===e?o[t]:(n=l(n,o.parseFormats,o.culture),n&&(o[t]=new U(+n),i.dateView[t](n)),e)},_update:function(t){var e,n=this,i=n.options,o=i.min,a=i.max,s=n._value,c=l(t,i.parseFormats,i.culture),d=null===c&&null===s||c instanceof Date&&s instanceof Date;return+c===+s&&d?(e=r.toString(c,i.format,i.culture),e!==t&&n.element.val(null===c?t:e),c):(null!==c&&N(c,o)?c=O(c,o,a):R(c,o,a)||(c=null),n._value=c,n.dateView.value(c),n.element.val(c?r.toString(c,i.format,i.culture):t),n._updateARIA(c),c)},_wrapper:function(){var e,n=this,i=n.element;e=i.parents(".k-datepicker"),e[0]||(e=i.wrap(f).parent().addClass("k-picker-wrap k-state-default"),e=e.wrap(f).parent()),e[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=e.addClass("k-widget k-datepicker k-header").addClass(i[0].className),n._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,n=e.element,i=n.attr("form"),o=i?t("#"+i):n.closest("form");o[0]&&(e._resetHandler=function(){e.value(n[0].defaultValue)},e._form=o.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=d(this.options.ARIATemplate)},_updateARIA:function(t){var e,n=this,i=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),i&&(e=i._cell,e.attr("aria-label",n._ariaTemplate({current:t||i.current()})),n.element.attr("aria-activedescendant",e.attr("id")))}}),a.plugin(o)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e){e()});